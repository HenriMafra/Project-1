<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guias do Stargo | Acervo Massivo</title>
    <meta name="description" content="Biblioteca massiva com mais de 15.000 guias √∫nicos.">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Montserrat:wght@700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        /* === ESTILOS MANTIDOS E OTIMIZADOS === */
        :root {
            --primary: #0f172a; --accent: #f59e0b; --bg-body: #f1f5f9;
            --bg-card: #ffffff; --text-main: #334155; --radius: 12px;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Inter', sans-serif; background: var(--bg-body); color: var(--text-main); }
        .container { max-width: 1200px; margin: 0 auto; padding: 0 20px; }
        .flex-between { display: flex; justify-content: space-between; align-items: center; }
        
        /* Header & Hero */
        header { background: #fff; position: sticky; top: 0; z-index: 100; box-shadow: 0 2px 10px rgba(0,0,0,0.05); }
        .nav-wrapper { height: 70px; }
        .logo { font-family: 'Montserrat', sans-serif; font-weight: 800; font-size: 1.5rem; color: var(--primary); text-decoration: none; display: flex; align-items: center; gap: 8px;}
        .cart-trigger { position: relative; font-size: 1.3rem; border: none; background: none; cursor: pointer; color: var(--primary); }
        .cart-badge { position: absolute; top: -5px; right: -8px; background: var(--accent); color: white; width: 18px; height: 18px; border-radius: 50%; font-size: 0.7rem; display: grid; place-items: center; font-weight: bold; }
        
        .hero { background: linear-gradient(135deg, #020617 0%, #1e293b 100%); color: white; padding: 5rem 0; text-align: center; }
        .hero h1 { font-family: 'Montserrat', sans-serif; font-size: clamp(2rem, 5vw, 3.5rem); margin-bottom: 1rem; }
        .search-box { position: relative; max-width: 600px; margin: 0 auto; }
        .search-box input { width: 100%; padding: 1.2rem 1.2rem 1.2rem 3.5rem; border-radius: 50px; border: none; font-size: 1rem; outline: none; box-shadow: 0 10px 30px rgba(0,0,0,0.3); }
        .search-box i { position: absolute; left: 1.5rem; top: 50%; transform: translateY(-50%); color: #94a3b8; }

        /* Stats & Grid */
        .stats-bar { background: var(--accent); color: white; text-align: center; padding: 8px; font-weight: 600; font-size: 0.9rem; }
        .controls { display: flex; flex-wrap: wrap; justify-content: center; gap: 10px; margin: 2rem 0; }
        .filter-btn { padding: 8px 20px; border-radius: 20px; border: 1px solid #cbd5e1; background: white; cursor: pointer; transition: 0.2s; font-weight: 500; }
        .filter-btn.active, .filter-btn:hover { background: var(--primary); color: white; border-color: var(--primary); }
        
        .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 2rem; margin-bottom: 3rem; }
        .card { background: white; border-radius: var(--radius); overflow: hidden; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1); border: 1px solid #e2e8f0; transition: transform 0.2s; display: flex; flex-direction: column; }
        .card:hover { transform: translateY(-5px); border-color: var(--accent); }
        .card-header { padding: 1.5rem; background: #f8fafc; border-bottom: 1px solid #f1f5f9; display: flex; align-items: center; gap: 1rem; }
        .card-icon { width: 45px; height: 45px; background: white; border-radius: 10px; display: grid; place-items: center; font-size: 1.4rem; color: var(--primary); box-shadow: 0 2px 5px rgba(0,0,0,0.05); }
        .card-body { padding: 1.5rem; flex-grow: 1; }
        .card-tag { font-size: 0.7rem; font-weight: 800; color: var(--accent); text-transform: uppercase; letter-spacing: 0.5px; }
        .card h3 { margin: 10px 0; font-size: 1.15rem; color: var(--primary); line-height: 1.4; }
        .card-desc { font-size: 0.9rem; color: #64748b; }
        .card-footer { padding: 1rem 1.5rem; border-top: 1px solid #f1f5f9; display: flex; justify-content: space-between; align-items: center; }
        .price { font-weight: 800; font-size: 1.3rem; color: var(--primary); }
        .add-btn { background: var(--primary); color: white; border: none; padding: 8px 16px; border-radius: 6px; cursor: pointer; font-weight: 600; transition: 0.2s; }
        .add-btn:hover { background: var(--accent); }

        /* Pagination & Sidebar */
        .pagination { display: flex; justify-content: center; gap: 5px; padding-bottom: 4rem; }
        .page-btn { width: 40px; height: 40px; background: white; border: 1px solid #e2e8f0; border-radius: 8px; cursor: pointer; display: grid; place-items: center; }
        .page-btn.active { background: var(--primary); color: white; }
        
        .sidebar { position: fixed; right: 0; top: 0; height: 100%; width: 100%; max-width: 400px; background: white; z-index: 1000; transform: translateX(100%); transition: 0.3s; box-shadow: -10px 0 30px rgba(0,0,0,0.2); display: flex; flex-direction: column; }
        .sidebar.open { transform: translateX(0); }
        .sidebar-header, .sidebar-footer { padding: 20px; border-bottom: 1px solid #eee; }
        .sidebar-body { flex: 1; overflow-y: auto; padding: 20px; }
        .cart-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.6); z-index: 999; display: none; }
        .cart-overlay.open { display: block; }
        
        .toast { position: fixed; bottom: 30px; left: 50%; transform: translateX(-50%) translateY(100px); background: var(--primary); color: white; padding: 12px 30px; border-radius: 50px; font-weight: 600; transition: 0.4s; z-index: 2000; box-shadow: 0 10px 20px rgba(0,0,0,0.2); }
        .toast.show { transform: translateX(-50%) translateY(0); }
    </style>
</head>
<body>

    <div class="stats-bar">
        üöÄ Acervo Expandido: <span id="total-db-count">0</span> Guias Pr√°ticos sem Repeti√ß√µes!
    </div>

    <header>
        <div class="container nav-wrapper flex-between">
            <a href="#" class="logo"><i class="fas fa-layer-group"></i> Guias do Stargo</a>
            <button class="cart-trigger" onclick="toggleCart()">
                <i class="fas fa-shopping-cart"></i>
                <span class="cart-badge" id="cart-count">0</span>
            </button>
        </div>
    </header>

    <section class="hero">
        <div class="container">
            <h1>Biblioteca Universal</h1>
            <p>Mais de 15.000 manuais. De F√≠sica Qu√¢ntica a Conserto de Geladeira.</p>
            <div class="search-box">
                <i class="fas fa-search"></i>
                <input type="text" id="search-input" placeholder="Pesquise entre 15.000+ guias...">
            </div>
        </div>
    </section>

    <section class="container">
        <div class="controls" id="category-filters">
            </div>

        <p style="text-align: right; color: #64748b; font-size: 0.9rem; margin-bottom: 1rem;">
            P√°gina <span id="current-page-num">1</span>
        </p>

        <div class="grid" id="guides-container"></div>
        <div class="pagination" id="pagination"></div>
    </section>

    <div class="cart-overlay" id="cart-overlay" onclick="toggleCart()"></div>
    <aside class="sidebar" id="sidebar">
        <div class="sidebar-header flex-between">
            <h3>Seu Carrinho</h3>
            <button onclick="toggleCart()" style="background:none; border:none; font-size: 1.5rem; cursor:pointer;">&times;</button>
        </div>
        <div class="sidebar-body" id="cart-items"></div>
        <div class="sidebar-footer">
            <div class="flex-between" style="font-weight: 800; font-size: 1.2rem; color: var(--primary); margin-bottom: 1rem;">
                <span>Total:</span>
                <span id="cart-total">R$ 0,00</span>
            </div>
            <button onclick="checkout()" style="width: 100%; padding: 1rem; background: var(--accent); color: white; border: none; border-radius: 8px; font-weight: bold; cursor: pointer;">Finalizar Compra</button>
        </div>
    </aside>

    <div class="toast" id="toast">Adicionado ao carrinho!</div>

    <script>
        /* === ENGINE V4.0: GERADOR MASSIVO DE CONTE√öDO √öNICO === */
        
        const state = {
            db: [],
            filtered: [],
            cart: JSON.parse(localStorage.getItem('stargo_cart')) || [],
            page: 1,
            perPage: 12,
            cat: 'Todas',
            search: ''
        };

        // Arrays de vocabul√°rio expandido
        const vocab = {
            prefixes: [
                'Guia Completo de', 'Manual Pr√°tico de', 'Curso Intensivo de', 'Introdu√ß√£o a', 
                'Domine o', 'Mestre em', 'Tudo sobre', 'Os Segredos de', 'Aprenda', 'Tutorial de', 
                'Passo a Passo de', 'Fundamentos de', 'T√©cnicas Avan√ßadas de', 'O Livro Definitivo de',
                'Como Fazer', 'Treinamento de', 'Workshop de', 'Expert em'
            ],
            middle: [
                'Descomplicado', 'em 24 Horas', 'para Iniciantes', 'Avan√ßado', 'Profissional', 
                'para o Dia a Dia', 'Aplicado', 'Moderno', 'Essencial', 'na Pr√°tica', 
                'Ilustrado', 'Definitivo', 'R√°pido', 'Estrat√©gico', 'Criativo'
            ],
            suffixes: [
                'Volume 1', 'Edi√ß√£o 2025', 'sem Mist√©rios', 'do Zero ao Pro', 'Guia de Bolso', 
                'Masterclass', 'com Certificado', 'para Todos', 'Simplificado', 'no Trabalho',
                'em Casa', 'Passo a Passo', 'Completo'
            ],
            categories: [
                { name: 'Tecnologia', icon: 'fa-microchip', topics: ['Python', 'Java', 'React', 'Excel', 'Linux', 'Redes', 'IA', 'Photoshop', 'Cybersecurity', 'Blockchain', 'Hardware', 'Drones', 'Impress√£o 3D', 'Arduino', 'SQL', 'Power BI', 'SEO', 'Wordpress'] },
                { name: 'Culin√°ria', icon: 'fa-utensils', topics: ['Bolos', 'Churrasco', 'Sushi', 'Confeitaria', 'Vegano', 'Massas', 'P√£es', 'Drinks', 'Hamb√∫rguer', 'Pizza', 'Sopas', 'Saladas', 'Vinhos', 'Caf√©s', 'Sobremesas', 'Molhos', 'Temperos'] },
                { name: 'Mec√¢nica', icon: 'fa-wrench', topics: ['Motor', 'Suspens√£o', 'El√©trica Auto', 'Pintura', 'Freios', 'Motos', 'Bicicletas', 'Caminh√µes', 'Hidr√°ulica', 'Funilaria', 'Ar Condicionado', 'Pneus', 'Inje√ß√£o Eletr√¥nica'] },
                { name: 'Idiomas', icon: 'fa-language', topics: ['Ingl√™s', 'Espanhol', 'Franc√™s', 'Alem√£o', 'Japon√™s', 'Mandarim', 'Italiano', 'Russo', 'Coreano', 'Latim', 'Libras', '√Årabe'] },
                { name: 'Casa', icon: 'fa-home', topics: ['Jardinagem', 'Marcenaria', 'Hidr√°ulica', 'El√©trica', 'Decora√ß√£o', 'Organiza√ß√£o', 'Limpeza', 'Reformas', 'Pintura de Parede', 'Horta', 'Paisagismo', 'Automa√ß√£o'] },
                { name: 'Sa√∫de', icon: 'fa-heartbeat', topics: ['Nutri√ß√£o', 'Yoga', 'Muscula√ß√£o', 'Crossfit', 'Medita√ß√£o', 'Pilates', 'Corrida', 'Primeiros Socorros', 'Anatomia', 'Fisioterapia', 'Sono', 'Ergonomia'] },
                { name: 'Neg√≥cios', icon: 'fa-briefcase', topics: ['Vendas', 'Marketing', 'Lideran√ßa', 'Finan√ßas', 'Bolsa de Valores', 'Dropshipping', 'E-commerce', 'Gest√£o de Tempo', 'Orat√≥ria', 'Negocia√ß√£o', 'Startup', 'Contabilidade'] },
                { name: 'Artes', icon: 'fa-palette', topics: ['Desenho', 'Aquarela', 'Fotografia', 'Viol√£o', 'Piano', 'Edi√ß√£o de V√≠deo', 'Teatro', 'Dan√ßa', 'Escrita', 'Poesia', 'Cer√¢mica', 'Tatuagem'] }
            ]
        };

        function generateUniqueDatabase(targetSize) {
            const db = [];
            const seenTitles = new Set(); // O Segredo da Unicidade: Um Set armazena apenas valores √∫nicos
            let attempts = 0;

            console.log("Iniciando gera√ß√£o de 15.000+ itens...");

            while (db.length < targetSize) {
                attempts++;
                
                // Escolha aleat√≥ria de categoria e t√≥pico
                const cat = vocab.categories[Math.floor(Math.random() * vocab.categories.length)];
                const topic = cat.topics[Math.floor(Math.random() * cat.topics.length)];
                
                let title = "";
                const structure = Math.floor(Math.random() * 4); // 4 Estruturas de frase diferentes

                // Varia√ß√£o Estrutural para evitar repeti√ß√£o
                if (structure === 0) {
                    // Ex: "Guia Completo de Python"
                    title = `${getRandom(vocab.prefixes)} ${topic}`;
                } else if (structure === 1) {
                    // Ex: "Python Descomplicado"
                    title = `${topic} ${getRandom(vocab.middle)}`;
                } else if (structure === 2) {
                    // Ex: "Curso de Python: Edi√ß√£o 2025"
                    title = `${getRandom(vocab.prefixes)} ${topic}: ${getRandom(vocab.suffixes)}`;
                } else {
                    // Ex: "Python para Iniciantes - Passo a Passo"
                    title = `${topic} ${getRandom(vocab.middle)} - ${getRandom(vocab.suffixes)}`;
                }

                // Checagem de Unicidade
                if (!seenTitles.has(title)) {
                    seenTitles.add(title);
                    db.push({
                        id: db.length + 1,
                        title: title,
                        category: cat.name,
                        icon: cat.icon,
                        price: 1.00,
                        desc: `Aprenda ${topic} de forma pr√°tica. Material did√°tico exclusivo focado em resultados reais.`
                    });
                }

                // Prote√ß√£o contra loop infinito se esgotar combina√ß√µes (pouco prov√°vel com este vocabul√°rio)
                if (attempts > targetSize * 5) break; 
            }

            return db;
        }

        function getRandom(arr) {
            return arr[Math.floor(Math.random() * arr.length)];
        }

        // --- RENDERIZA√á√ÉO E PAGINA√á√ÉO ---

        function init() {
            // Gerar 15.000 Itens
            state.db = generateUniqueDatabase(15000);
            document.getElementById('total-db-count').innerText = state.db.length.toLocaleString('pt-BR');
            
            // Gerar bot√µes de filtro
            const filtersContainer = document.getElementById('category-filters');
            let filterHTML = `<button class="filter-btn active" onclick="filterBy('Todas', this)">Todas</button>`;
            vocab.categories.forEach(c => {
                filterHTML += `<button class="filter-btn" onclick="filterBy('${c.name}', this)">${c.name}</button>`;
            });
            filtersContainer.innerHTML = filterHTML;

            applyFilters();
            updateCartUI();
        }

        function applyFilters() {
            let data = state.db;

            if (state.cat !== 'Todas') {
                data = data.filter(item => item.category === state.cat);
            }

            if (state.search) {
                const term = state.search.toLowerCase();
                data = data.filter(item => item.title.toLowerCase().includes(term));
            }

            state.filtered = data;
            state.page = 1;
            renderGrid();
        }

        function renderGrid() {
            const start = (state.page - 1) * state.perPage;
            const end = start + state.perPage;
            const items = state.filtered.slice(start, end);
            const container = document.getElementById('guides-container');

            document.getElementById('current-page-num').innerText = state.page;

            if (items.length === 0) {
                container.innerHTML = `<div style="grid-column: 1/-1; text-align: center; padding: 4rem;"><h3>Nenhum guia encontrado :(</h3></div>`;
                document.getElementById('pagination').innerHTML = '';
                return;
            }

            container.innerHTML = items.map(item => `
                <article class="card">
                    <div class="card-header">
                        <div class="card-icon"><i class="fas ${item.icon}"></i></div>
                        <div class="card-tag">${item.category}</div>
                    </div>
                    <div class="card-body">
                        <h3>${item.title}</h3>
                        <p class="card-desc">${item.desc}</p>
                    </div>
                    <div class="card-footer">
                        <span class="price">R$ 1,00</span>
                        <button class="add-btn" onclick="addToCart(${item.id})">
                            <i class="fas fa-plus"></i> Adicionar
                        </button>
                    </div>
                </article>
            `).join('');

            renderPagination();
            window.scrollTo({ top: 400, behavior: 'smooth' });
        }

        function renderPagination() {
            const totalPages = Math.ceil(state.filtered.length / state.perPage);
            const pagContainer = document.getElementById('pagination');
            
            if (totalPages <= 1) {
                pagContainer.innerHTML = '';
                return;
            }

            let html = '';
            
            // L√≥gica inteligente de bot√µes (mostra range pr√≥ximo da p√°gina atual)
            const maxButtons = 5;
            let startPage = Math.max(1, state.page - 2);
            let endPage = Math.min(totalPages, startPage + maxButtons - 1);

            if (state.page > 1) html += `<button class="page-btn" onclick="goToPage(${state.page - 1})"><i class="fas fa-chevron-left"></i></button>`;
            
            if (startPage > 1) html += `<button class="page-btn" onclick="goToPage(1)">1</button><span>...</span>`;

            for (let i = startPage; i <= endPage; i++) {
                html += `<button class="page-btn ${i === state.page ? 'active' : ''}" onclick="goToPage(${i})">${i}</button>`;
            }

            if (endPage < totalPages) html += `<span>...</span><button class="page-btn" onclick="goToPage(${totalPages})">${totalPages}</button>`;
            
            if (state.page < totalPages) html += `<button class="page-btn" onclick="goToPage(${state.page + 1})"><i class="fas fa-chevron-right"></i></button>`;

            pagContainer.innerHTML = html;
        }

        /* === INTERA√á√ïES === */
        
        window.filterBy = (cat, btn) => {
            document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            state.cat = cat;
            applyFilters();
        };

        window.goToPage = (p) => {
            state.page = p;
            renderGrid();
        };

        document.getElementById('search-input').addEventListener('input', (e) => {
            state.search = e.target.value;
            applyFilters();
        });

        /* === CARRINHO === */
        
        window.addToCart = (id) => {
            const item = state.db.find(i => i.id === id);
            if (state.cart.find(c => c.id === id)) {
                showToast("J√° est√° no carrinho!", true);
                return;
            }
            state.cart.push(item);
            updateCartUI();
            showToast("Adicionado!");
            toggleCart(true);
        };

        window.removeItem = (id) => {
            state.cart = state.cart.filter(c => c.id !== id);
            updateCartUI();
        };

        function updateCartUI() {
            localStorage.setItem('stargo_cart', JSON.stringify(state.cart));
            document.getElementById('cart-count').innerText = state.cart.length;
            
            const total = state.cart.reduce((acc, item) => acc + item.price, 0);
            document.getElementById('cart-total').innerText = `R$ ${total.toFixed(2).replace('.', ',')}`;

            const list = document.getElementById('cart-items');
            if (state.cart.length === 0) {
                list.innerHTML = `<div style="text-align:center; padding:2rem; color:#94a3b8"><i class="fas fa-ghost" style="font-size:2rem; margin-bottom:10px"></i><br>Carrinho vazio</div>`;
                return;
            }

            list.innerHTML = state.cart.map(i => `
                <div class="flex-between" style="margin-bottom:15px; border-bottom:1px dashed #eee; padding-bottom:10px;">
                    <div>
                        <div style="font-weight:600">${i.title}</div>
                        <div style="font-size:0.8rem; color:#64748b">${i.category}</div>
                    </div>
                    <button onclick="removeItem(${i.id})" style="color:#ef4444; border:none; background:none; cursor:pointer"><i class="fas fa-trash"></i></button>
                </div>
            `).join('');
        }

        window.toggleCart = (force) => {
            const sb = document.getElementById('sidebar');
            const ov = document.getElementById('cart-overlay');
            const isOpen = sb.classList.contains('open');
            if (force === true || !isOpen) {
                sb.classList.add('open');
                ov.classList.add('open');
            } else {
                sb.classList.remove('open');
                ov.classList.remove('open');
            }
        };

        window.checkout = () => {
            if (state.cart.length === 0) return alert("Adicione itens primeiro!");
            alert(`Processando ${state.cart.length} itens...`);
            state.cart = [];
            updateCartUI();
            toggleCart(false);
        };

        function showToast(msg, warn) {
            const t = document.getElementById('toast');
            t.innerText = msg;
            t.style.background = warn ? '#ef4444' : 'var(--primary)';
            t.classList.add('show');
            setTimeout(() => t.classList.remove('show'), 2000);
        }

        // START
        init();

    </script>
</body>
</html>
