<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guias do Stargo | Acervo Completo</title>
    <meta name="description" content="Acesse nossa biblioteca com mais de 5000 guias pr√°ticos. Aprenda qualquer assunto por R$1.">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Montserrat:wght@700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        /* === RESET & VARS === */
        :root {
            --primary: #0f172a;       /* Azul Slate Profundo */
            --accent: #f59e0b;        /* Laranja Vibrante */
            --accent-hover: #d97706;
            --bg-body: #f8fafc;
            --bg-card: #ffffff;
            --text-main: #334155;
            --text-light: #64748b;
            --radius: 12px;
            --shadow: 0 4px 6px -1px rgba(0,0,0,0.1);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Inter', sans-serif; background: var(--bg-body); color: var(--text-main); line-height: 1.6; }
        
        /* === LAYOUT UTILS === */
        .container { max-width: 1200px; margin: 0 auto; padding: 0 20px; }
        .flex-between { display: flex; justify-content: space-between; align-items: center; }
        .section-padding { padding: 4rem 0; }

        /* === HEADER === */
        header { background: #fff; border-bottom: 1px solid #e2e8f0; position: sticky; top: 0; z-index: 100; box-shadow: 0 1px 3px rgba(0,0,0,0.05); }
        .nav-wrapper { height: 70px; }
        .logo { font-family: 'Montserrat', sans-serif; font-weight: 800; font-size: 1.5rem; color: var(--primary); text-decoration: none; display: flex; gap: 8px; align-items: center; }
        .logo i { color: var(--accent); }
        
        .cart-trigger { position: relative; font-size: 1.25rem; cursor: pointer; background: none; border: none; color: var(--text-main); }
        .cart-badge { position: absolute; top: -5px; right: -8px; background: var(--accent); color: white; font-size: 0.7rem; width: 18px; height: 18px; border-radius: 50%; display: grid; place-items: center; font-weight: bold; }

        /* === HERO & SEARCH === */
        .hero { background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%); color: white; padding: 4rem 0; text-align: center; }
        .hero h1 { font-family: 'Montserrat', sans-serif; font-size: clamp(2rem, 5vw, 3.5rem); margin-bottom: 1rem; line-height: 1.1; }
        .hero p { color: #94a3b8; font-size: 1.1rem; margin-bottom: 2rem; }

        .search-box { position: relative; max-width: 600px; margin: 0 auto; }
        .search-box input { width: 100%; padding: 1rem 1rem 1rem 3rem; border-radius: 50px; border: none; outline: none; font-size: 1rem; box-shadow: 0 10px 25px rgba(0,0,0,0.2); }
        .search-box i { position: absolute; left: 1.2rem; top: 50%; transform: translateY(-50%); color: #94a3b8; }

        /* === STATS BAR === */
        .stats-bar { background: var(--accent); color: white; padding: 0.5rem 0; text-align: center; font-weight: 600; font-size: 0.9rem; }

        /* === GRID SYSTEM === */
        .controls { margin: 2rem 0; display: flex; flex-wrap: wrap; gap: 1rem; align-items: center; justify-content: center; }
        .filter-btn { background: white; border: 1px solid #cbd5e1; padding: 0.5rem 1.2rem; border-radius: 20px; cursor: pointer; transition: 0.2s; color: var(--text-light); font-weight: 500; }
        .filter-btn:hover, .filter-btn.active { background: var(--primary); color: white; border-color: var(--primary); }

        .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 2rem; }
        
        /* === CARD DESIGN === */
        .card { background: var(--bg-card); border-radius: var(--radius); overflow: hidden; box-shadow: var(--shadow); transition: transform 0.2s; border: 1px solid #f1f5f9; display: flex; flex-direction: column; }
        .card:hover { transform: translateY(-5px); border-color: var(--accent); }
        .card-header { padding: 1.5rem; background: #f8fafc; border-bottom: 1px solid #f1f5f9; display: flex; align-items: center; gap: 1rem; }
        .card-icon { width: 40px; height: 40px; background: white; border-radius: 8px; display: grid; place-items: center; font-size: 1.2rem; color: var(--primary); box-shadow: 0 2px 4px rgba(0,0,0,0.05); }
        .card-body { padding: 1.5rem; flex-grow: 1; }
        .card-tag { font-size: 0.75rem; text-transform: uppercase; color: var(--accent); font-weight: 700; letter-spacing: 0.5px; }
        .card h3 { margin: 0.5rem 0; font-size: 1.1rem; line-height: 1.3; color: var(--primary); }
        .card-desc { font-size: 0.9rem; color: var(--text-light); display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }
        
        .card-footer { padding: 1rem 1.5rem; background: #fff; border-top: 1px solid #f1f5f9; display: flex; justify-content: space-between; align-items: center; }
        .price { font-family: 'Montserrat', sans-serif; font-weight: 800; font-size: 1.25rem; color: var(--primary); }
        .add-btn { background: var(--primary); color: white; border: none; padding: 0.5rem 1.2rem; border-radius: 6px; font-weight: 600; cursor: pointer; transition: 0.2s; display: flex; gap: 6px; align-items: center; }
        .add-btn:hover { background: var(--accent); }

        /* === PAGINATION === */
        .pagination { display: flex; justify-content: center; margin-top: 3rem; gap: 0.5rem; }
        .page-btn { width: 40px; height: 40px; display: grid; place-items: center; background: white; border: 1px solid #e2e8f0; border-radius: 8px; cursor: pointer; transition: 0.2s; color: var(--text-main); }
        .page-btn:hover { border-color: var(--primary); }
        .page-btn.active { background: var(--primary); color: white; border-color: var(--primary); }
        .page-btn:disabled { opacity: 0.5; cursor: not-allowed; }

        /* === CART SIDEBAR === */
        .cart-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.5); z-index: 999; display: none; }
        .cart-overlay.open { display: block; }
        .sidebar { position: fixed; top: 0; right: 0; bottom: 0; width: 100%; max-width: 400px; background: white; z-index: 1000; transform: translateX(100%); transition: 0.3s; display: flex; flex-direction: column; }
        .sidebar.open { transform: translateX(0); }
        .sidebar-header { padding: 1.5rem; border-bottom: 1px solid #eee; }
        .sidebar-body { flex-grow: 1; overflow-y: auto; padding: 1.5rem; }
        .sidebar-footer { padding: 1.5rem; background: #f8fafc; border-top: 1px solid #eee; }

        /* === NOTIFICATION === */
        .toast { position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%) translateY(100px); background: var(--primary); color: white; padding: 0.8rem 2rem; border-radius: 50px; font-weight: 500; transition: 0.4s; z-index: 2000; box-shadow: 0 10px 20px rgba(0,0,0,0.2); display: flex; align-items: center; gap: 10px; }
        .toast.show { transform: translateX(-50%) translateY(0); }
    </style>
</head>
<body>

    <div class="stats-bar">
        üéâ Acervo atualizado: 5.234 Guias Dispon√≠veis Agora!
    </div>

    <header>
        <div class="container nav-wrapper flex-between">
            <a href="#" class="logo"><i class="fas fa-compass"></i> Guias do Stargo</a>
            <button class="cart-trigger" onclick="toggleCart()">
                <i class="fas fa-shopping-bag"></i>
                <span class="cart-badge" id="cart-count">0</span>
            </button>
        </div>
    </header>

    <section class="hero">
        <div class="container">
            <h1>Domine Qualquer Assunto.</h1>
            <p>O maior acervo de conhecimento pr√°tico do Brasil. Tudo por R$ 1,00.</p>
            <div class="search-box">
                <i class="fas fa-search"></i>
                <input type="text" id="search-input" placeholder="O que voc√™ quer aprender? (Ex: Excel, Mec√¢nica, Bolo...)">
            </div>
        </div>
    </section>

    <section class="section-padding">
        <div class="container">
            <div class="controls" id="category-filters">
                <button class="filter-btn active" data-cat="all">Todos</button>
                <button class="filter-btn" data-cat="Tecnologia">Tecnologia</button>
                <button class="filter-btn" data-cat="Culin√°ria">Culin√°ria</button>
                <button class="filter-btn" data-cat="Mec√¢nica">Mec√¢nica</button>
                <button class="filter-btn" data-cat="Idiomas">Idiomas</button>
                <button class="filter-btn" data-cat="Neg√≥cios">Neg√≥cios</button>
            </div>

            <p style="margin-bottom: 1rem; color: var(--text-light); font-size: 0.9rem;">
                Exibindo <span id="view-count">0</span> de <span id="total-count">0</span> guias
            </p>

            <div class="grid" id="guides-container">
                </div>

            <div class="pagination" id="pagination">
                </div>
        </div>
    </section>

    <footer style="background: var(--primary); color: white; padding: 3rem 0; text-align: center; font-size: 0.9rem;">
        <div class="container">
            <p>&copy; 2025 Guias do Stargo. Conhecimento Ilimitado.</p>
        </div>
    </footer>

    <div class="cart-overlay" id="cart-overlay" onclick="toggleCart()"></div>
    <aside class="sidebar" id="sidebar">
        <div class="sidebar-header flex-between">
            <h3>Seu Carrinho</h3>
            <button onclick="toggleCart()" style="background:none; border:none; font-size: 1.5rem; cursor:pointer;">&times;</button>
        </div>
        <div class="sidebar-body" id="cart-items">
            </div>
        <div class="sidebar-footer">
            <div class="flex-between" style="font-weight: 800; font-size: 1.2rem; color: var(--primary); margin-bottom: 1rem;">
                <span>Total:</span>
                <span id="cart-total">R$ 0,00</span>
            </div>
            <button onclick="checkout()" style="width: 100%; padding: 1rem; background: var(--accent); color: white; border: none; border-radius: 8px; font-weight: bold; cursor: pointer;">Finalizar Compra</button>
        </div>
    </aside>

    <div class="toast" id="toast">
        <i class="fas fa-check-circle"></i> <span id="toast-msg">Adicionado!</span>
    </div>

    <script>
        // --- 1. CONFIGURA√á√ÉO & ESTADO ---
        const state = {
            allGuides: [],       // O "Banco de Dados" de 5000 itens
            filteredGuides: [],  // O que o usu√°rio v√™ (ap√≥s busca/filtro)
            cart: JSON.parse(localStorage.getItem('stargo_cart')) || [],
            currentPage: 1,
            itemsPerPage: 12,
            activeCategory: 'all',
            searchQuery: ''
        };

        // --- 2. GERADOR DE DADOS MASSIVO (Simulando Backend) ---
        function generateDatabase() {
            const categories = [
                { name: 'Tecnologia', icon: 'fa-laptop-code' },
                { name: 'Culin√°ria', icon: 'fa-utensils' },
                { name: 'Mec√¢nica', icon: 'fa-car' },
                { name: 'Idiomas', icon: 'fa-language' },
                { name: 'Neg√≥cios', icon: 'fa-chart-line' },
                { name: 'Sa√∫de', icon: 'fa-heartbeat' },
                { name: 'Artesanato', icon: 'fa-palette' }
            ];

            const prefixes = ['Guia Completo de', 'Manual Pr√°tico de', 'Curso R√°pido de', 'Introdu√ß√£o a', 'Domine o', 'Segredos do'];
            const topics = {
                'Tecnologia': ['Python', 'Excel', 'JavaScript', 'Linux', 'Photoshop', 'IA', 'Redes', 'Hardware', 'React', 'Seguran√ßa'],
                'Culin√°ria': ['Bolos', 'Massas', 'Churrasco', 'Doces', 'P√£es', 'Sushi', 'Vegano', 'Molhos', 'Sobremesas'],
                'Mec√¢nica': ['Motor', 'El√©trica', 'Suspens√£o', 'Freios', 'Pintura', 'Troca de √ìleo', 'Diagn√≥stico'],
                'Idiomas': ['Ingl√™s', 'Espanhol', 'Franc√™s', 'Alem√£o', 'Japon√™s', 'Italiano', 'Mandarim'],
                'Neg√≥cios': ['Marketing', 'Vendas', 'Lideran√ßa', 'Finan√ßas', 'Investimentos', 'Gest√£o', 'RH'],
                'Sa√∫de': ['Nutri√ß√£o', 'Yoga', 'Muscula√ß√£o', 'Medita√ß√£o', 'Primeiros Socorros'],
                'Artesanato': ['Costura', 'Croch√™', 'Pintura', 'Cer√¢mica', 'Bordado', 'Marcenaria']
            };

            const db = [];
            
            // Gerar 5234 itens para ser exato
            for (let i = 1; i <= 5234; i++) {
                const cat = categories[Math.floor(Math.random() * categories.length)];
                const topicList = topics[cat.name] || ['Geral'];
                const topic = topicList[Math.floor(Math.random() * topicList.length)];
                const prefix = prefixes[Math.floor(Math.random() * prefixes.length)];
                
                // N√≠veis aleat√≥rios para dar variedade
                const levels = [' - B√°sico', ' - Intermedi√°rio', ' - Avan√ßado', ' Passo a Passo', ' para Iniciantes'];
                const suffix = levels[Math.floor(Math.random() * levels.length)];

                db.push({
                    id: i,
                    title: `${prefix} ${topic}${suffix}`,
                    category: cat.name,
                    icon: cat.icon,
                    price: 1.00,
                    desc: `Aprenda tudo sobre ${topic} com este material exclusivo. Did√°tica simples e aplica√ß√£o imediata.`
                });
            }
            return db;
        }

        // --- 3. L√ìGICA DE RENDERIZA√á√ÉO & PAGINA√á√ÉO ---
        
        function applyFilters() {
            let data = state.allGuides;

            // 1. Filtro por Categoria
            if (state.activeCategory !== 'all') {
                data = data.filter(g => g.category === state.activeCategory);
            }

            // 2. Filtro por Busca (Search)
            if (state.searchQuery.length > 0) {
                const term = state.searchQuery.toLowerCase();
                data = data.filter(g => 
                    g.title.toLowerCase().includes(term) || 
                    g.category.toLowerCase().includes(term)
                );
            }

            state.filteredGuides = data;
            state.currentPage = 1; // Reset para p√°gina 1 ao filtrar
            updateUI();
        }

        function updateUI() {
            // Calcular Pagina√ß√£o
            const totalItems = state.filteredGuides.length;
            const start = (state.currentPage - 1) * state.itemsPerPage;
            const end = start + state.itemsPerPage;
            const pageData = state.filteredGuides.slice(start, end);

            // Renderizar Grid
            const container = document.getElementById('guides-container');
            container.innerHTML = pageData.map(item => `
                <article class="card">
                    <div class="card-header">
                        <div class="card-icon"><i class="fas ${item.icon}"></i></div>
                        <div class="card-tag">${item.category}</div>
                    </div>
                    <div class="card-body">
                        <h3>${item.title}</h3>
                        <p class="card-desc">${item.desc}</p>
                    </div>
                    <div class="card-footer">
                        <span class="price">R$ 1,00</span>
                        <button class="add-btn" onclick="addToCart(${item.id})">
                            <i class="fas fa-cart-plus"></i> Adicionar
                        </button>
                    </div>
                </article>
            `).join('');

            // Atualizar Contadores
            document.getElementById('view-count').innerText = pageData.length > 0 ? `${start + 1}-${Math.min(end, totalItems)}` : '0';
            document.getElementById('total-count').innerText = totalItems;

            // Renderizar Bot√µes de Pagina√ß√£o
            renderPagination(totalItems);
        }

        function renderPagination(totalItems) {
            const totalPages = Math.ceil(totalItems / state.itemsPerPage);
            const pagContainer = document.getElementById('pagination');
            
            if (totalPages <= 1) {
                pagContainer.innerHTML = '';
                return;
            }

            let btns = '';
            
            // Bot√£o Anterior
            btns += `<button class="page-btn" ${state.currentPage === 1 ? 'disabled' : ''} onclick="changePage(${state.currentPage - 1})"><i class="fas fa-chevron-left"></i></button>`;

            // L√≥gica simples de bot√µes (mostra atual, +/- 1 e fim)
            let startPage = Math.max(1, state.currentPage - 1);
            let endPage = Math.min(totalPages, state.currentPage + 1);

            if (startPage > 1) btns += `<button class="page-btn" onclick="changePage(1)">1</button>`;
            if (startPage > 2) btns += `<span style="padding: 10px;">...</span>`;

            for (let i = startPage; i <= endPage; i++) {
                btns += `<button class="page-btn ${i === state.currentPage ? 'active' : ''}" onclick="changePage(${i})">${i}</button>`;
            }

            if (endPage < totalPages - 1) btns += `<span style="padding: 10px;">...</span>`;
            if (endPage < totalPages) btns += `<button class="page-btn" onclick="changePage(${totalPages})">${totalPages}</button>`;

            // Bot√£o Pr√≥ximo
            btns += `<button class="page-btn" ${state.currentPage === totalPages ? 'disabled' : ''} onclick="changePage(${state.currentPage + 1})"><i class="fas fa-chevron-right"></i></button>`;

            pagContainer.innerHTML = btns;
        }

        window.changePage = (page) => {
            state.currentPage = page;
            updateUI();
            document.getElementById('guides-container').scrollIntoView({ behavior: 'smooth', block: 'start' });
        };

        // --- 4. CARRINHO ---
        window.addToCart = (id) => {
            // Busca no banco de dados completo (n√£o s√≥ no vis√≠vel)
            const item = state.allGuides.find(g => g.id === id);
            
            if (state.cart.find(c => c.id === id)) {
                showToast("Este guia j√° est√° no carrinho!", true);
                return;
            }
            
            state.cart.push(item);
            updateCartDisplay();
            showToast("Adicionado ao carrinho!");
            toggleCart(true);
        };

        window.removeItem = (id) => {
            state.cart = state.cart.filter(c => c.id !== id);
            updateCartDisplay();
        };

        function updateCartDisplay() {
            localStorage.setItem('stargo_cart', JSON.stringify(state.cart));
            document.getElementById('cart-count').innerText = state.cart.length;
            
            const total = state.cart.reduce((acc, item) => acc + item.price, 0);
            document.getElementById('cart-total').innerText = `R$ ${total.toFixed(2).replace('.', ',')}`;

            const container = document.getElementById('cart-items');
            if (state.cart.length === 0) {
                container.innerHTML = '<p style="text-align:center; color:#999; margin-top:2rem;">Carrinho vazio</p>';
                return;
            }

            container.innerHTML = state.cart.map(item => `
                <div class="flex-between" style="margin-bottom: 1rem; border-bottom: 1px dashed #eee; padding-bottom: 0.5rem;">
                    <div>
                        <div style="font-weight:600; font-size: 0.9rem;">${item.title}</div>
                        <div style="font-size: 0.8rem; color:#666;">Categoria: ${item.category}</div>
                    </div>
                    <button onclick="removeItem(${item.id})" style="color: #ef4444; background:none; border:none; cursor:pointer;"><i class="fas fa-trash"></i></button>
                </div>
            `).join('');
        }

        // --- 5. INTERFACE & EVENTOS ---
        
        // Inicializa√ß√£o
        document.addEventListener('DOMContentLoaded', () => {
            // 1. Gerar Dados
            state.allGuides = generateDatabase();
            
            // 2. Inicializar Filtros
            applyFilters();
            updateCartDisplay();

            // 3. Listeners
            document.getElementById('search-input').addEventListener('input', (e) => {
                state.searchQuery = e.target.value;
                applyFilters();
            });

            document.querySelectorAll('.filter-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    document.querySelector('.filter-btn.active').classList.remove('active');
                    btn.classList.add('active');
                    state.activeCategory = btn.dataset.cat;
                    applyFilters();
                });
            });
        });

        // UI Helpers
        window.toggleCart = (forceOpen = null) => {
            const sidebar = document.getElementById('sidebar');
            const overlay = document.getElementById('cart-overlay');
            const isOpen = sidebar.classList.contains('open');
            const shouldOpen = forceOpen !== null ? forceOpen : !isOpen;
            
            if (shouldOpen) {
                sidebar.classList.add('open');
                overlay.classList.add('open');
            } else {
                sidebar.classList.remove('open');
                overlay.classList.remove('open');
            }
        };

        window.checkout = () => {
            if (state.cart.length === 0) return alert("Carrinho vazio!");
            alert(`Processando pagamento de R$ ${state.cart.length},00...`);
            state.cart = [];
            updateCartDisplay();
            toggleCart(false);
        };

        function showToast(msg, isError = false) {
            const toast = document.getElementById('toast');
            document.getElementById('toast-msg').innerText = msg;
            toast.style.background = isError ? '#ef4444' : 'var(--primary)';
            toast.classList.add('show');
            setTimeout(() => toast.classList.remove('show'), 3000);
        }
    </script>
</body>
</html>
