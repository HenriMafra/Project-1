<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Guias do Stargo | Conhecimento Ilimitado a R$1</title>
  <meta name="description" content="Guias práticos sobre qualquer assunto: tecnologia, culinária, mecânica e estudos. Tudo por R$1 fixo." />

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&family=Montserrat:wght@700;800;900&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />

  <style>
    :root {
      /* Paleta de Cores Otimizada */
      --primary: #0f172a;       /* Azul Noturno (Sofisticação) */
      --primary-light: #334155; /* Cinza Azulado */
      --accent: #f59e0b;        /* Âmbar (Atenção/Preço) */
      --accent-hover: #d97706;
      --bg-body: #f8fafc;
      --bg-card: #ffffff;
      --text-main: #1e293b;
      --text-muted: #64748b;
      --success: #10b981;

      /* Espaçamentos e Bordas */
      --radius: 12px;
      --shadow-sm: 0 1px 3px rgba(0,0,0,0.1);
      --shadow-md: 0 4px 6px -1px rgba(0,0,0,0.1), 0 2px 4px -1px rgba(0,0,0,0.06);
      --shadow-lg: 0 10px 15px -3px rgba(0,0,0,0.1), 0 4px 6px -2px rgba(0,0,0,0.05);
      
      --font-heading: 'Montserrat', sans-serif;
      --font-body: 'Inter', sans-serif;
    }

    /* --- Reset e Base --- */
    * { margin: 0; padding: 0; box-sizing: border-box; }
    html { scroll-behavior: smooth; font-size: 16px; }
    body { font-family: var(--font-body); background-color: var(--bg-body); color: var(--text-main); line-height: 1.6; overflow-x: hidden; }
    
    h1, h2, h3 { font-family: var(--font-heading); color: var(--primary); line-height: 1.2; }
    p { color: var(--text-muted); }
    a { text-decoration: none; transition: 0.3s; }
    ul { list-style: none; }
    img { max-width: 100%; display: block; }

    /* --- Utilitários --- */
    .container { max-width: 1200px; margin: 0 auto; padding: 0 1.5rem; }
    .btn { display: inline-flex; align-items: center; justify-content: center; padding: 0.75rem 1.5rem; border-radius: 50px; font-weight: 600; cursor: pointer; border: none; transition: all 0.3s ease; gap: 0.5rem; }
    .btn-primary { background: var(--accent); color: white; box-shadow: var(--shadow-md); }
    .btn-primary:hover { background: var(--accent-hover); transform: translateY(-2px); box-shadow: var(--shadow-lg); }
    .btn-outline { border: 2px solid var(--primary); color: var(--primary); background: transparent; }
    .btn-outline:hover { background: var(--primary); color: white; }
    .section-padding { padding: 4rem 0; }

    /* --- Header & Nav --- */
    .header { background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(10px); position: sticky; top: 0; z-index: 1000; box-shadow: var(--shadow-sm); }
    .nav-wrapper { display: flex; justify-content: space-between; align-items: center; height: 80px; }
    .logo { font-size: 1.5rem; font-weight: 900; color: var(--primary); font-family: var(--font-heading); display: flex; align-items: center; gap: 0.5rem; }
    .logo span { color: var(--accent); }
    
    .nav-links { display: flex; gap: 2rem; }
    .nav-links a { color: var(--text-main); font-weight: 500; font-size: 0.95rem; }
    .nav-links a:hover { color: var(--accent); }

    .nav-actions { display: flex; align-items: center; gap: 1rem; }
    .cart-btn { position: relative; font-size: 1.25rem; color: var(--primary); background: none; border: none; cursor: pointer; }
    .cart-count { position: absolute; top: -5px; right: -8px; background: var(--accent); color: white; font-size: 0.7rem; width: 18px; height: 18px; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold; }
    
    .mobile-toggle { display: none; font-size: 1.5rem; background: none; border: none; color: var(--primary); cursor: pointer; }

    /* --- Hero Section --- */
    .hero { text-align: center; padding: 6rem 0 4rem; background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%); position: relative; overflow: hidden; }
    .hero h1 { font-size: clamp(2.5rem, 5vw, 4rem); margin-bottom: 1.5rem; }
    .hero p { font-size: 1.25rem; max-width: 700px; margin: 0 auto 2.5rem; }
    .hero-highlight { color: var(--accent); position: relative; display: inline-block; }
    .hero-highlight::after { content: ''; position: absolute; bottom: 5px; left: 0; width: 100%; height: 8px; background: rgba(245, 158, 11, 0.2); z-index: -1; }

    /* --- Search & Filter --- */
    .search-container { max-width: 600px; margin: 0 auto 3rem; position: relative; }
    .search-input { width: 100%; padding: 1rem 1.5rem; padding-left: 3rem; border-radius: 50px; border: 2px solid #e2e8f0; font-size: 1rem; transition: border 0.3s; font-family: var(--font-body); }
    .search-input:focus { outline: none; border-color: var(--accent); box-shadow: 0 0 0 3px rgba(245, 158, 11, 0.1); }
    .search-icon { position: absolute; left: 1.2rem; top: 50%; transform: translateY(-50%); color: var(--text-muted); }

    .filters { display: flex; justify-content: center; gap: 0.5rem; flex-wrap: wrap; margin-bottom: 2rem; }
    .filter-btn { padding: 0.5rem 1.2rem; border-radius: 20px; border: 1px solid #e2e8f0; background: white; cursor: pointer; font-size: 0.9rem; font-weight: 500; transition: all 0.2s; color: var(--text-muted); }
    .filter-btn:hover, .filter-btn.active { background: var(--primary); color: white; border-color: var(--primary); }

    /* --- Cards Grid --- */
    .guides-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 2rem; }
    .card { background: var(--bg-card); border-radius: var(--radius); padding: 1.5rem; box-shadow: var(--shadow-sm); transition: transform 0.3s, box-shadow 0.3s; display: flex; flex-direction: column; position: relative; border: 1px solid #f1f5f9; }
    .card:hover { transform: translateY(-5px); box-shadow: var(--shadow-lg); border-color: var(--accent); }
    
    .card-icon { width: 50px; height: 50px; background: rgba(15, 23, 42, 0.05); border-radius: 12px; display: flex; align-items: center; justify-content: center; font-size: 1.5rem; color: var(--primary); margin-bottom: 1rem; }
    .card-category { font-size: 0.75rem; text-transform: uppercase; letter-spacing: 0.5px; color: var(--accent); font-weight: 700; margin-bottom: 0.5rem; }
    .card h3 { font-size: 1.25rem; margin-bottom: 0.5rem; color: var(--text-main); }
    .card p { font-size: 0.95rem; margin-bottom: 1.5rem; flex-grow: 1; display: -webkit-box; -webkit-line-clamp: 3; -webkit-box-orient: vertical; overflow: hidden; }
    
    .card-footer { display: flex; justify-content: space-between; align-items: center; margin-top: auto; padding-top: 1rem; border-top: 1px solid #f1f5f9; }
    .price-tag { font-family: var(--font-heading); font-weight: 800; font-size: 1.5rem; color: var(--primary); }
    .add-btn { background: var(--primary); color: white; width: 36px; height: 36px; border-radius: 50%; display: flex; align-items: center; justify-content: center; border: none; cursor: pointer; transition: 0.2s; }
    .add-btn:hover { background: var(--accent); transform: scale(1.1); }

    /* --- Sidebar Cart --- */
    .cart-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 1999; opacity: 0; visibility: hidden; transition: 0.3s; }
    .cart-overlay.open { opacity: 1; visibility: visible; }
    
    .cart-sidebar { position: fixed; top: 0; right: 0; width: 100%; max-width: 400px; height: 100%; background: white; z-index: 2000; transform: translateX(100%); transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1); display: flex; flex-direction: column; box-shadow: -5px 0 25px rgba(0,0,0,0.1); }
    .cart-sidebar.open { transform: translateX(0); }
    
    .cart-header { padding: 1.5rem; border-bottom: 1px solid #e2e8f0; display: flex; justify-content: space-between; align-items: center; background: #f8fafc; }
    .cart-body { flex: 1; overflow-y: auto; padding: 1.5rem; }
    .cart-footer { padding: 1.5rem; border-top: 1px solid #e2e8f0; background: #f8fafc; }
    
    .cart-item { display: flex; align-items: center; gap: 1rem; margin-bottom: 1rem; padding-bottom: 1rem; border-bottom: 1px dashed #e2e8f0; animation: fadeIn 0.3s; }
    .cart-item-info { flex: 1; }
    .cart-item-title { font-weight: 600; font-size: 0.95rem; color: var(--primary); }
    .cart-item-price { font-size: 0.85rem; color: var(--text-muted); }
    .cart-remove { color: #ef4444; background: none; border: none; cursor: pointer; padding: 0.5rem; transition: 0.2s; }
    .cart-remove:hover { color: #dc2626; background: #fee2e2; border-radius: 4px; }

    .total-row { display: flex; justify-content: space-between; font-size: 1.25rem; font-weight: 800; color: var(--primary); margin-bottom: 1rem; }

    /* --- Footer --- */
    .footer { background: var(--primary); color: #cbd5e1; padding: 4rem 0 2rem; }
    .footer-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 3rem; margin-bottom: 3rem; }
    .footer h4 { color: white; margin-bottom: 1.5rem; font-size: 1.1rem; }
    .footer ul li { margin-bottom: 0.8rem; }
    .footer a { color: #cbd5e1; }
    .footer a:hover { color: var(--accent); }
    .copyright { text-align: center; padding-top: 2rem; border-top: 1px solid rgba(255,255,255,0.1); font-size: 0.9rem; }

    /* --- Notification Toast --- */
    .toast { position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%) translateY(100px); background: var(--primary); color: white; padding: 1rem 2rem; border-radius: 50px; box-shadow: 0 10px 25px rgba(0,0,0,0.2); z-index: 3000; display: flex; align-items: center; gap: 10px; transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
    .toast.show { transform: translateX(-50%) translateY(0); }
    .toast i { color: var(--success); }

    /* --- Mobile Responsive --- */
    @media (max-width: 768px) {
      .nav-links { position: fixed; top: 80px; left: 0; width: 100%; background: white; flex-direction: column; padding: 2rem; box-shadow: 0 10px 10px rgba(0,0,0,0.05); transform: translateY(-150%); transition: 0.3s; z-index: 999; }
      .nav-links.active { transform: translateY(0); }
      .mobile-toggle { display: block; }
      .hero h1 { font-size: 2.2rem; }
      .search-container { padding: 0 1rem; }
    }

    @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
  </style>
</head>

<body>

  <header class="header">
    <div class="container nav-wrapper">
      <a href="#" class="logo"><i class="fas fa-compass"></i> Guias do <span>Stargo</span></a>
      
      <nav>
        <ul class="nav-links" id="nav-links">
          <li><a href="#inicio">Início</a></li>
          <li><a href="#guias">Explorar Guias</a></li>
          <li><a href="#como-funciona">Como Funciona</a></li>
          <li><a href="#contato">Suporte</a></li>
        </ul>
      </nav>

      <div class="nav-actions">
        <button class="cart-btn" onclick="toggleCart()">
          <i class="fas fa-shopping-bag"></i>
          <span class="cart-count" id="cart-count">0</span>
        </button>
        <button class="mobile-toggle" onclick="toggleMenu()">
          <i class="fas fa-bars"></i>
        </button>
      </div>
    </div>
  </header>

  <main>
    <section id="inicio" class="hero">
      <div class="container">
        <h1>Conhecimento <span class="hero-highlight">Ilimitado</span><br>Preço Simplificado.</h1>
        <p>De manutenção de computadores a receitas culinárias. Guias práticos, organizados e diretos ao ponto sobre qualquer assunto.</p>
        
        <div class="search-container">
          <i class="fas fa-search search-icon"></i>
          <input type="text" class="search-input" id="search-input" placeholder="O que você quer aprender hoje? (Ex: Python, Bolo, Mecânica...)">
        </div>

        <div class="filters" id="filters">
          <button class="filter-btn active" data-filter="all">Todos</button>
          <button class="filter-btn" data-filter="tecnologia">Tecnologia</button>
          <button class="filter-btn" data-filter="cotidiano">Cotidiano</button>
          <button class="filter-btn" data-filter="estudos">Estudos</button>
          <button class="filter-btn" data-filter="carreira">Carreira</button>
        </div>
      </div>
    </section>

    <section id="guias" class="section-padding">
      <div class="container">
        <div class="guides-grid" id="guides-grid">
          <article class="card" data-category="tecnologia" data-title="Manual de Formatação de PC">
            <div class="card-icon"><i class="fas fa-laptop-code"></i></div>
            <div class="card-category">Tecnologia</div>
            <h3>Manual de Formatação de PC</h3>
            <p>Guia definitivo: instalação do Windows/Linux, drivers e backup. Recupere seu computador hoje.</p>
            <div class="card-footer">
              <span class="price-tag">R$ 1,00</span>
              <button class="add-btn" onclick="addToCart('001', 'Manual de Formatação de PC', 1.00)"><i class="fas fa-plus"></i></button>
            </div>
          </article>

          <article class="card" data-category="tecnologia" data-title="Montagem de Smartphones">
            <div class="card-icon"><i class="fas fa-mobile-alt"></i></div>
            <div class="card-category">Tecnologia</div>
            <h3>Montagem de Smartphones</h3>
            <p>Aprenda a anatomia do celular. Troca de tela, bateria e componentes internos com segurança.</p>
            <div class="card-footer">
              <span class="price-tag">R$ 1,00</span>
              <button class="add-btn" onclick="addToCart('002', 'Montagem de Smartphones', 1.00)"><i class="fas fa-plus"></i></button>
            </div>
          </article>

          <article class="card" data-category="cotidiano" data-title="Mecânica Básica para Motoristas">
            <div class="card-icon"><i class="fas fa-car"></i></div>
            <div class="card-category">Cotidiano</div>
            <h3>Mecânica Básica para Motoristas</h3>
            <p>Não seja enganado na oficina. Entenda o motor, troca de óleo e sinais de alerta do painel.</p>
            <div class="card-footer">
              <span class="price-tag">R$ 1,00</span>
              <button class="add-btn" onclick="addToCart('003', 'Mecânica Básica', 1.00)"><i class="fas fa-plus"></i></button>
            </div>
          </article>

          <article class="card" data-category="estudos" data-title="Física para ENEM e Vestibulares">
            <div class="card-icon"><i class="fas fa-atom"></i></div>
            <div class="card-category">Estudos</div>
            <h3>Física Descomplicada</h3>
            <p>Conceitos chave de cinemática e elétrica explicados sem "fiquês". Ideal para revisão rápida.</p>
            <div class="card-footer">
              <span class="price-tag">R$ 1,00</span>
              <button class="add-btn" onclick="addToCart('004', 'Física Descomplicada', 1.00)"><i class="fas fa-plus"></i></button>
            </div>
          </article>

           <article class="card" data-category="cotidiano" data-title="Culinária: Massas Artesanais">
            <div class="card-icon"><i class="fas fa-utensils"></i></div>
            <div class="card-category">Cotidiano</div>
            <h3>Massas Artesanais em Casa</h3>
            <p>Faça macarrão, nhoque e lasanha do zero. Guia passo-a-passo com dicas de molhos.</p>
            <div class="card-footer">
              <span class="price-tag">R$ 1,00</span>
              <button class="add-btn" onclick="addToCart('005', 'Massas Artesanais', 1.00)"><i class="fas fa-plus"></i></button>
            </div>
          </article>

           <article class="card" data-category="carreira" data-title="Excel para o Mercado de Trabalho">
            <div class="card-icon"><i class="fas fa-table"></i></div>
            <div class="card-category">Carreira</div>
            <h3>Excel Essencial</h3>
            <p>Domine as fórmulas que as empresas realmente pedem. Tabela dinâmica e PROCV em 10 minutos.</p>
            <div class="card-footer">
              <span class="price-tag">R$ 1,00</span>
              <button class="add-btn" onclick="addToCart('006', 'Excel Essencial', 1.00)"><i class="fas fa-plus"></i></button>
            </div>
          </article>

        </div>
      </div>
    </section>

    <section id="como-funciona" style="background-color: white;" class="section-padding">
      <div class="container" style="text-align: center;">
        <h2 style="margin-bottom: 3rem;">Por que Guias do Stargo?</h2>
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 2rem;">
          <div>
            <i class="fas fa-layer-group" style="font-size: 2.5rem; color: var(--accent); margin-bottom: 1rem;"></i>
            <h3>Hiper Organizado</h3>
            <p>Nada de enrolação. Conteúdo estruturado logicamente para aprendizado rápido.</p>
          </div>
          <div>
            <i class="fas fa-coins" style="font-size: 2.5rem; color: var(--accent); margin-bottom: 1rem;"></i>
            <h3>Preço Único R$1</h3>
            <p>Democratização real. Sem assinaturas escondidas, sem preços dinâmicos.</p>
          </div>
          <div>
            <i class="fas fa-infinity" style="font-size: 2.5rem; color: var(--accent); margin-bottom: 1rem;"></i>
            <h3>Qualquer Assunto</h3>
            <p>Nossa biblioteca cresce todo dia com tópicos técnicos, acadêmicos e hobbies.</p>
          </div>
        </div>
      </div>
    </section>

    <section id="contato" class="section-padding" style="background: var(--bg-body);">
      <div class="container" style="max-width: 600px; text-align: center;">
        <h2>Dúvidas ou Sugestões?</h2>
        <p style="margin-bottom: 2rem;">Quer sugerir um novo guia? Mande pra gente.</p>
        <form id="contact-form" style="display: flex; flex-direction: column; gap: 1rem;">
          <input type="text" placeholder="Seu Nome" required style="padding: 1rem; border-radius: var(--radius); border: 1px solid #ddd;">
          <input type="email" placeholder="Seu E-mail" required style="padding: 1rem; border-radius: var(--radius); border: 1px solid #ddd;">
          <textarea rows="4" placeholder="Sua Mensagem" required style="padding: 1rem; border-radius: var(--radius); border: 1px solid #ddd;"></textarea>
          <button type="submit" class="btn btn-primary">Enviar Mensagem</button>
        </form>
      </div>
    </section>
  </main>

  <footer class="footer">
    <div class="container">
      <div class="footer-grid">
        <div>
          <div class="logo" style="color: white; margin-bottom: 1rem;"><i class="fas fa-compass"></i> Guias do Stargo</div>
          <p style="color: #94a3b8;">Sua enciclopédia prática e acessível. Conhecimento não precisa ser caro, precisa ser útil.</p>
        </div>
        <div>
          <h4>Links Úteis</h4>
          <ul>
            <li><a href="#">Meus Pedidos</a></li>
            <li><a href="#">Termos de Uso</a></li>
            <li><a href="#">Política de Privacidade</a></li>
          </ul>
        </div>
        <div>
          <h4>Redes</h4>
          <div style="display: flex; gap: 1rem; font-size: 1.2rem;">
            <a href="#"><i class="fab fa-instagram"></i></a>
            <a href="#"><i class="fab fa-twitter"></i></a>
            <a href="#"><i class="fab fa-youtube"></i></a>
          </div>
        </div>
      </div>
      <div class="copyright">
        &copy; 2025 Guias do Stargo. Todos os direitos reservados.
      </div>
    </div>
  </footer>

  <div class="cart-overlay" id="cart-overlay" onclick="toggleCart()"></div>
  <aside class="cart-sidebar" id="cart-sidebar">
    <div class="cart-header">
      <h3><i class="fas fa-shopping-bag"></i> Seu Carrinho</h3>
      <button onclick="toggleCart()" style="background:none; border:none; font-size: 1.5rem; cursor:pointer;">&times;</button>
    </div>
    <div class="cart-body" id="cart-body">
      <div style="text-align: center; padding: 2rem; color: var(--text-muted);">
        <i class="fas fa-basket-shopping" style="font-size: 3rem; margin-bottom: 1rem; opacity: 0.3;"></i>
        <p>Seu carrinho está vazio.</p>
      </div>
    </div>
    <div class="cart-footer">
      <div class="total-row">
        <span>Total</span>
        <span id="cart-total">R$ 0,00</span>
      </div>
      <button class="btn btn-primary" style="width: 100%;" onclick="checkout()">Finalizar Compra</button>
      <button onclick="clearCart()" style="width: 100%; margin-top: 0.5rem; background: none; border: none; color: var(--text-muted); cursor: pointer; text-decoration: underline;">Limpar carrinho</button>
    </div>
  </aside>

  <div class="toast" id="toast">
    <i class="fas fa-check-circle"></i> <span id="toast-msg">Item adicionado!</span>
  </div>

  <script>
    /* --- Lógica Javascript Modular --- */
    
    // Estado Global
    let cart = JSON.parse(localStorage.getItem('stargo_cart')) || [];
    
    // Elementos DOM
    const els = {
      cartCount: document.getElementById('cart-count'),
      cartBody: document.getElementById('cart-body'),
      cartTotal: document.getElementById('cart-total'),
      cartSidebar: document.getElementById('cart-sidebar'),
      cartOverlay: document.getElementById('cart-overlay'),
      toast: document.getElementById('toast'),
      toastMsg: document.getElementById('toast-msg'),
      searchInput: document.getElementById('search-input'),
      filters: document.querySelectorAll('.filter-btn'),
      cards: document.querySelectorAll('.card'),
      mobileMenu: document.getElementById('nav-links')
    };

    // --- Carrinho Functions ---

    function updateCartUI() {
      // Atualiza contador
      els.cartCount.innerText = cart.length;
      
      // Atualiza Total
      const total = cart.reduce((acc, item) => acc + item.price, 0);
      els.cartTotal.innerText = `R$ ${total.toFixed(2).replace('.', ',')}`;

      // Renderiza Itens
      if (cart.length === 0) {
        els.cartBody.innerHTML = `
          <div style="text-align: center; padding: 2rem; color: var(--text-muted);">
            <i class="fas fa-basket-shopping" style="font-size: 3rem; margin-bottom: 1rem; opacity: 0.3;"></i>
            <p>Seu carrinho está vazio.</p>
          </div>`;
      } else {
        els.cartBody.innerHTML = cart.map(item => `
          <div class="cart-item">
            <div class="cart-item-info">
              <div class="cart-item-title">${item.name}</div>
              <div class="cart-item-price">R$ ${item.price.toFixed(2).replace('.', ',')}</div>
            </div>
            <button class="cart-remove" onclick="removeFromCart('${item.id}')">
              <i class="fas fa-trash"></i>
            </button>
          </div>
        `).join('');
      }
      
      // Salva
      localStorage.setItem('stargo_cart', JSON.stringify(cart));
    }

    window.addToCart = (id, name, price) => {
      if (cart.find(item => item.id === id)) {
        showToast(`"${name}" já está no carrinho!`, true);
        return;
      }
      cart.push({ id, name, price });
      updateCartUI();
      toggleCart(true); // Abre o carrinho automaticamente
      showToast(`"${name}" adicionado!`);
    };

    window.removeFromCart = (id) => {
      cart = cart.filter(item => item.id !== id);
      updateCartUI();
    };

    window.clearCart = () => {
      if(confirm('Limpar todo o carrinho?')) {
        cart = [];
        updateCartUI();
      }
    };

    window.checkout = () => {
      if (cart.length === 0) return alert("Carrinho vazio!");
      alert(`Redirecionando para pagamento de R$ ${cart.length},00... (Simulação)`);
      cart = [];
      updateCartUI();
      toggleCart();
    };

    window.toggleCart = (forceOpen = null) => {
      const isOpen = els.cartSidebar.classList.contains('open');
      const shouldOpen = forceOpen !== null ? forceOpen : !isOpen;
      
      if (shouldOpen) {
        els.cartSidebar.classList.add('open');
        els.cartOverlay.classList.add('open');
        document.body.style.overflow = 'hidden';
      } else {
        els.cartSidebar.classList.remove('open');
        els.cartOverlay.classList.remove('open');
        document.body.style.overflow = '';
      }
    };

    // --- UI Interactions ---

    function showToast(msg, isError = false) {
      els.toastMsg.innerText = msg;
      els.toast.querySelector('i').className = isError ? 'fas fa-exclamation-circle' : 'fas fa-check-circle';
      els.toast.style.backgroundColor = isError ? '#ef4444' : 'var(--primary)';
      els.toast.classList.add('show');
      setTimeout(() => els.toast.classList.remove('show'), 3000);
    }

    window.toggleMenu = () => {
      els.mobileMenu.classList.toggle('active');
    };

    // --- Search & Filter Logic ---

    function filterCards() {
      const term = els.searchInput.value.toLowerCase();
      const activeFilter = document.querySelector('.filter-btn.active').dataset.filter;

      els.cards.forEach(card => {
        const title = card.dataset.title.toLowerCase();
        const category = card.dataset.category;
        
        const matchesSearch = title.includes(term);
        const matchesFilter = activeFilter === 'all' || category === activeFilter;

        if (matchesSearch && matchesFilter) {
          card.style.display = 'flex';
        } else {
          card.style.display = 'none';
        }
      });
    }

    els.searchInput.addEventListener('input', filterCards);

    els.filters.forEach(btn => {
      btn.addEventListener('click', () => {
        document.querySelector('.filter-btn.active').classList.remove('active');
        btn.classList.add('active');
        filterCards();
      });
    });

    // Form Handling
    document.getElementById('contact-form').addEventListener('submit', (e) => {
      e.preventDefault();
      showToast('Mensagem enviada com sucesso!');
      e.target.reset();
    });

    // Init
    updateCartUI();

  </script>
</body>
</html>
